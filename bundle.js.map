{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://wkldle/webpack/universalModuleDefinition","webpack://wkldle/./node_modules/dotenv/config.js","webpack://wkldle/./node_modules/dotenv/lib/cli-options.js","webpack://wkldle/./node_modules/dotenv/lib/env-options.js","webpack://wkldle/./node_modules/dotenv/lib/main.js","webpack://wkldle/external node-commonjs \"crypto\"","webpack://wkldle/external node-commonjs \"fs\"","webpack://wkldle/external node-commonjs \"os\"","webpack://wkldle/external node-commonjs \"path\"","webpack://wkldle/webpack/bootstrap","webpack://wkldle/webpack/runtime/define property getters","webpack://wkldle/webpack/runtime/hasOwnProperty shorthand","webpack://wkldle/webpack/runtime/make namespace object","webpack://wkldle/./src/utils.ts","webpack://wkldle/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"wkldle\"] = factory();\n\telse\n\t\troot[\"wkldle\"] = factory();\n})(this, () => {\nreturn ","(function () {\n  require('./lib/main').config(\n    Object.assign(\n      {},\n      require('./lib/env-options'),\n      require('./lib/cli-options')(process.argv)\n    )\n  )\n})()\n","const re = /^dotenv_config_(encoding|path|debug|override|DOTENV_KEY)=(.+)$/\n\nmodule.exports = function optionMatcher (args) {\n  return args.reduce(function (acc, cur) {\n    const matches = cur.match(re)\n    if (matches) {\n      acc[matches[1]] = matches[2]\n    }\n    return acc\n  }, {})\n}\n","// ../config.js accepts options via environment variables\nconst options = {}\n\nif (process.env.DOTENV_CONFIG_ENCODING != null) {\n  options.encoding = process.env.DOTENV_CONFIG_ENCODING\n}\n\nif (process.env.DOTENV_CONFIG_PATH != null) {\n  options.path = process.env.DOTENV_CONFIG_PATH\n}\n\nif (process.env.DOTENV_CONFIG_DEBUG != null) {\n  options.debug = process.env.DOTENV_CONFIG_DEBUG\n}\n\nif (process.env.DOTENV_CONFIG_OVERRIDE != null) {\n  options.override = process.env.DOTENV_CONFIG_OVERRIDE\n}\n\nif (process.env.DOTENV_CONFIG_DOTENV_KEY != null) {\n  options.DOTENV_KEY = process.env.DOTENV_CONFIG_DOTENV_KEY\n}\n\nmodule.exports = options\n","const fs = require('fs')\nconst path = require('path')\nconst os = require('os')\nconst crypto = require('crypto')\nconst packageJson = require('../package.json')\n\nconst version = packageJson.version\n\nconst LINE = /(?:^|^)\\s*(?:export\\s+)?([\\w.-]+)(?:\\s*=\\s*?|:\\s+?)(\\s*'(?:\\\\'|[^'])*'|\\s*\"(?:\\\\\"|[^\"])*\"|\\s*`(?:\\\\`|[^`])*`|[^#\\r\\n]+)?\\s*(?:#.*)?(?:$|$)/mg\n\n// Parse src into an Object\nfunction parse (src) {\n  const obj = {}\n\n  // Convert buffer to string\n  let lines = src.toString()\n\n  // Convert line breaks to same format\n  lines = lines.replace(/\\r\\n?/mg, '\\n')\n\n  let match\n  while ((match = LINE.exec(lines)) != null) {\n    const key = match[1]\n\n    // Default undefined or null to empty string\n    let value = (match[2] || '')\n\n    // Remove whitespace\n    value = value.trim()\n\n    // Check if double quoted\n    const maybeQuote = value[0]\n\n    // Remove surrounding quotes\n    value = value.replace(/^(['\"`])([\\s\\S]*)\\1$/mg, '$2')\n\n    // Expand newlines if double quoted\n    if (maybeQuote === '\"') {\n      value = value.replace(/\\\\n/g, '\\n')\n      value = value.replace(/\\\\r/g, '\\r')\n    }\n\n    // Add to object\n    obj[key] = value\n  }\n\n  return obj\n}\n\nfunction _parseVault (options) {\n  const vaultPath = _vaultPath(options)\n\n  // Parse .env.vault\n  const result = DotenvModule.configDotenv({ path: vaultPath })\n  if (!result.parsed) {\n    throw new Error(`MISSING_DATA: Cannot parse ${vaultPath} for an unknown reason`)\n  }\n\n  // handle scenario for comma separated keys - for use with key rotation\n  // example: DOTENV_KEY=\"dotenv://:key_1234@dotenv.org/vault/.env.vault?environment=prod,dotenv://:key_7890@dotenv.org/vault/.env.vault?environment=prod\"\n  const keys = _dotenvKey(options).split(',')\n  const length = keys.length\n\n  let decrypted\n  for (let i = 0; i < length; i++) {\n    try {\n      // Get full key\n      const key = keys[i].trim()\n\n      // Get instructions for decrypt\n      const attrs = _instructions(result, key)\n\n      // Decrypt\n      decrypted = DotenvModule.decrypt(attrs.ciphertext, attrs.key)\n\n      break\n    } catch (error) {\n      // last key\n      if (i + 1 >= length) {\n        throw error\n      }\n      // try next key\n    }\n  }\n\n  // Parse decrypted .env string\n  return DotenvModule.parse(decrypted)\n}\n\nfunction _log (message) {\n  console.log(`[dotenv@${version}][INFO] ${message}`)\n}\n\nfunction _warn (message) {\n  console.log(`[dotenv@${version}][WARN] ${message}`)\n}\n\nfunction _debug (message) {\n  console.log(`[dotenv@${version}][DEBUG] ${message}`)\n}\n\nfunction _dotenvKey (options) {\n  // prioritize developer directly setting options.DOTENV_KEY\n  if (options && options.DOTENV_KEY && options.DOTENV_KEY.length > 0) {\n    return options.DOTENV_KEY\n  }\n\n  // secondary infra already contains a DOTENV_KEY environment variable\n  if (process.env.DOTENV_KEY && process.env.DOTENV_KEY.length > 0) {\n    return process.env.DOTENV_KEY\n  }\n\n  // fallback to empty string\n  return ''\n}\n\nfunction _instructions (result, dotenvKey) {\n  // Parse DOTENV_KEY. Format is a URI\n  let uri\n  try {\n    uri = new URL(dotenvKey)\n  } catch (error) {\n    if (error.code === 'ERR_INVALID_URL') {\n      throw new Error('INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenv.org/vault/.env.vault?environment=development')\n    }\n\n    throw error\n  }\n\n  // Get decrypt key\n  const key = uri.password\n  if (!key) {\n    throw new Error('INVALID_DOTENV_KEY: Missing key part')\n  }\n\n  // Get environment\n  const environment = uri.searchParams.get('environment')\n  if (!environment) {\n    throw new Error('INVALID_DOTENV_KEY: Missing environment part')\n  }\n\n  // Get ciphertext payload\n  const environmentKey = `DOTENV_VAULT_${environment.toUpperCase()}`\n  const ciphertext = result.parsed[environmentKey] // DOTENV_VAULT_PRODUCTION\n  if (!ciphertext) {\n    throw new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${environmentKey} in your .env.vault file.`)\n  }\n\n  return { ciphertext, key }\n}\n\nfunction _vaultPath (options) {\n  let dotenvPath = path.resolve(process.cwd(), '.env')\n\n  if (options && options.path && options.path.length > 0) {\n    dotenvPath = options.path\n  }\n\n  // Locate .env.vault\n  return dotenvPath.endsWith('.vault') ? dotenvPath : `${dotenvPath}.vault`\n}\n\nfunction _resolveHome (envPath) {\n  return envPath[0] === '~' ? path.join(os.homedir(), envPath.slice(1)) : envPath\n}\n\nfunction _configVault (options) {\n  _log('Loading env from encrypted .env.vault')\n\n  const parsed = DotenvModule._parseVault(options)\n\n  let processEnv = process.env\n  if (options && options.processEnv != null) {\n    processEnv = options.processEnv\n  }\n\n  DotenvModule.populate(processEnv, parsed, options)\n\n  return { parsed }\n}\n\nfunction configDotenv (options) {\n  let dotenvPath = path.resolve(process.cwd(), '.env')\n  let encoding = 'utf8'\n  const debug = Boolean(options && options.debug)\n\n  if (options) {\n    if (options.path != null) {\n      dotenvPath = _resolveHome(options.path)\n    }\n    if (options.encoding != null) {\n      encoding = options.encoding\n    }\n  }\n\n  try {\n    // Specifying an encoding returns a string instead of a buffer\n    const parsed = DotenvModule.parse(fs.readFileSync(dotenvPath, { encoding }))\n\n    let processEnv = process.env\n    if (options && options.processEnv != null) {\n      processEnv = options.processEnv\n    }\n\n    DotenvModule.populate(processEnv, parsed, options)\n\n    return { parsed }\n  } catch (e) {\n    if (debug) {\n      _debug(`Failed to load ${dotenvPath} ${e.message}`)\n    }\n\n    return { error: e }\n  }\n}\n\n// Populates process.env from .env file\nfunction config (options) {\n  const vaultPath = _vaultPath(options)\n\n  // fallback to original dotenv if DOTENV_KEY is not set\n  if (_dotenvKey(options).length === 0) {\n    return DotenvModule.configDotenv(options)\n  }\n\n  // dotenvKey exists but .env.vault file does not exist\n  if (!fs.existsSync(vaultPath)) {\n    _warn(`You set DOTENV_KEY but you are missing a .env.vault file at ${vaultPath}. Did you forget to build it?`)\n\n    return DotenvModule.configDotenv(options)\n  }\n\n  return DotenvModule._configVault(options)\n}\n\nfunction decrypt (encrypted, keyStr) {\n  const key = Buffer.from(keyStr.slice(-64), 'hex')\n  let ciphertext = Buffer.from(encrypted, 'base64')\n\n  const nonce = ciphertext.slice(0, 12)\n  const authTag = ciphertext.slice(-16)\n  ciphertext = ciphertext.slice(12, -16)\n\n  try {\n    const aesgcm = crypto.createDecipheriv('aes-256-gcm', key, nonce)\n    aesgcm.setAuthTag(authTag)\n    return `${aesgcm.update(ciphertext)}${aesgcm.final()}`\n  } catch (error) {\n    const isRange = error instanceof RangeError\n    const invalidKeyLength = error.message === 'Invalid key length'\n    const decryptionFailed = error.message === 'Unsupported state or unable to authenticate data'\n\n    if (isRange || invalidKeyLength) {\n      const msg = 'INVALID_DOTENV_KEY: It must be 64 characters long (or more)'\n      throw new Error(msg)\n    } else if (decryptionFailed) {\n      const msg = 'DECRYPTION_FAILED: Please check your DOTENV_KEY'\n      throw new Error(msg)\n    } else {\n      console.error('Error: ', error.code)\n      console.error('Error: ', error.message)\n      throw error\n    }\n  }\n}\n\n// Populate process.env with parsed values\nfunction populate (processEnv, parsed, options = {}) {\n  const debug = Boolean(options && options.debug)\n  const override = Boolean(options && options.override)\n\n  if (typeof parsed !== 'object') {\n    throw new Error('OBJECT_REQUIRED: Please check the processEnv argument being passed to populate')\n  }\n\n  // Set process.env\n  for (const key of Object.keys(parsed)) {\n    if (Object.prototype.hasOwnProperty.call(processEnv, key)) {\n      if (override === true) {\n        processEnv[key] = parsed[key]\n      }\n\n      if (debug) {\n        if (override === true) {\n          _debug(`\"${key}\" is already defined and WAS overwritten`)\n        } else {\n          _debug(`\"${key}\" is already defined and was NOT overwritten`)\n        }\n      }\n    } else {\n      processEnv[key] = parsed[key]\n    }\n  }\n}\n\nconst DotenvModule = {\n  configDotenv,\n  _configVault,\n  _parseVault,\n  config,\n  decrypt,\n  parse,\n  populate\n}\n\nmodule.exports.configDotenv = DotenvModule.configDotenv\nmodule.exports._configVault = DotenvModule._configVault\nmodule.exports._parseVault = DotenvModule._parseVault\nmodule.exports.config = DotenvModule.config\nmodule.exports.decrypt = DotenvModule.decrypt\nmodule.exports.parse = DotenvModule.parse\nmodule.exports.populate = DotenvModule.populate\n\nmodule.exports = DotenvModule\n","module.exports = require(\"crypto\");","module.exports = require(\"fs\");","module.exports = require(\"os\");","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import \"dotenv/config\";\nexport var getEnv = function () {\n    var _a, _b;\n    var issueTitle = (_a = process.env.ISSUE_TITLE) !== null && _a !== void 0 ? _a : \"\";\n    var issueCreator = (_b = process.env.ISSUE_CREATOR) !== null && _b !== void 0 ? _b : \"\";\n    var env = {\n        issueTitle: issueTitle,\n        issueCreator: issueCreator,\n    };\n    return env;\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { getEnv } from \"./utils\";\nexport function dailyInit(octokit, context, core) {\n    return __awaiter(this, void 0, void 0, function () {\n        var login;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    console.log(\"context\", context);\n                    console.log(\"core\", core);\n                    return [4 /*yield*/, octokit.users.getAuthenticated()];\n                case 1:\n                    login = (_a.sent()).data.login;\n                    console.log(\"Hello, \".concat(login, \"!, daily init\"));\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexport default function main(octokit, context, core) {\n    return __awaiter(this, void 0, void 0, function () {\n        var _env, login;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _env = getEnv();\n                    console.log(\"context\", context);\n                    console.log(\"core\", core);\n                    console.log(\"_env\", _env);\n                    return [4 /*yield*/, octokit.users.getAuthenticated()];\n                case 1:\n                    login = (_a.sent()).data.login;\n                    console.log(\"Hello, \".concat(login, \"!, main\"));\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\n"],"names":["root","factory","exports","module","define","amd","this","Object","assign","process","argv","re","args","reduce","acc","cur","matches","match","options","env","DOTENV_CONFIG_ENCODING","encoding","DOTENV_CONFIG_PATH","path","DOTENV_CONFIG_DEBUG","debug","DOTENV_CONFIG_OVERRIDE","override","DOTENV_CONFIG_DOTENV_KEY","DOTENV_KEY","fs","os","crypto","version","LINE","_debug","message","console","log","_dotenvKey","length","_instructions","result","dotenvKey","uri","URL","error","code","Error","key","password","environment","searchParams","get","environmentKey","toUpperCase","ciphertext","parsed","_vaultPath","dotenvPath","resolve","cwd","endsWith","DotenvModule","configDotenv","Boolean","envPath","join","homedir","slice","parse","readFileSync","processEnv","populate","e","_configVault","_parseVault","vaultPath","keys","split","decrypted","i","attrs","trim","decrypt","config","existsSync","encrypted","keyStr","Buffer","from","nonce","authTag","aesgcm","createDecipheriv","setAuthTag","update","final","isRange","RangeError","invalidKeyLength","decryptionFailed","src","obj","lines","toString","replace","exec","value","maybeQuote","prototype","hasOwnProperty","call","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","o","defineProperty","enumerable","prop","r","Symbol","toStringTag","getEnv","_a","_b","issueTitle","ISSUE_TITLE","issueCreator","ISSUE_CREATOR","__awaiter","thisArg","_arguments","P","generator","Promise","reject","fulfilled","step","next","rejected","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","iterator","n","v","op","TypeError","pop","push","dailyInit","octokit","context","core","login","users","getAuthenticated","data","concat","main","_env"],"sourceRoot":""}